<!--Copyright (c) 2017-2019, Substratum LLC (https://substratum.net) and/or its affiliates. All rights reserved.-->

<div id="index-component">
  <app-header></app-header>

  <div class="node-status">
    <div class="node-status__display">
      <span class="node-status__display-label">Node Status:</span>
      <span class="node-status__display-status" id="node-status-label">{{statusText()}}</span>
    </div>

    <div class="node-status__actions" [class.node-status__actions--invalid]="isInvalid()" id="node-status-buttons">
      <button (click)="off()" id="off" [class.button-active]="isOff()">Off</button>
      <button (click)="serve()" id="serving" [class.button-active]="isServing()">Serving</button>
      <button (click)="consume()" id="consuming" [class.button-active]="isConsuming()">Consuming</button>
    </div>
  </div>

  <div class="node-field" *ngIf="!(servingConfigurationVisible || consumingConfigurationVisible)">
    <div class="node-field__display">
      <span class="node-field__display-label">Node Descriptor:</span>
    </div>
    <div class="node-field__display">
      <span id="node-descriptor" class="node-field__display-text">{{nodeDescriptorText()}}</span>
      <button (click)="copyNodeDescriptor()" id="copy">Copy</button>
    </div>
  </div>

  <app-node-configuration *ngIf="servingConfigurationVisible"
                          (saved)="this.onServingSaved($event)"></app-node-configuration>
  <app-node-configuration *ngIf="consumingConfigurationVisible"
                          (saved)="this.onConsumingSaved($event)"></app-node-configuration>

  <app-footer></app-footer>
</div>
